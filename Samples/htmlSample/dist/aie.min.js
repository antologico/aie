!function(e){function t(e){var t=x[e];if(!t)return c;var n=function(r){return t.hot.active?(x[r]?x[r].parents.indexOf(e)<0&&x[r].parents.push(e):(y=[e],l=r),t.children.indexOf(r)<0&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),y=[]),c(r)},s=function(e){return{configurable:!0,enumerable:!0,get:function(){return c[e]},set:function(t){c[e]=t}}};for(var a in c)Object.prototype.hasOwnProperty.call(c,a)&&"e"!==a&&Object.defineProperty(n,a,s(a));return n.e=function(e){function t(){I--,"prepare"===b&&(O[e]||i(e),0===I&&0===w&&o())}return"ready"===b&&r("prepare"),I++,c.e(e).then(t,function(e){throw t(),e})},n}function r(e){b=e;for(var t=0;t<P.length;t++)P[t].call(null,e)}function n(e){return+e+""===e?+e:e}function s(e){if("idle"!==b)throw new Error("check() is only allowed in idle status");return f=e,r("check"),function(e){return e=e||1e4,new Promise(function(t,r){if("undefined"==typeof XMLHttpRequest)return r(new Error("No browser support"));try{var n=new XMLHttpRequest,s=c.p+""+m+".hot-update.json";n.open("GET",s,!0),n.timeout=e,n.send(null)}catch(e){return r(e)}n.onreadystatechange=function(){if(4===n.readyState)if(0===n.status)r(new Error("Manifest request to "+s+" timed out."));else if(404===n.status)t();else if(200!==n.status&&304!==n.status)r(new Error("Manifest request to "+s+" failed."));else{try{var e=JSON.parse(n.responseText)}catch(e){return void r(e)}t(e)}}})}(g).then(function(e){if(!e)return r("idle"),null;S={},O={},_=e.c,p=e.h,r("prepare");var t=new Promise(function(e,t){u={resolve:e,reject:t}});h={};return i(0),"prepare"===b&&0===I&&0===w&&o(),t})}function i(e){_[e]?(S[e]=!0,w++,function(e){var t=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.charset="utf-8",r.src=c.p+""+e+"."+m+".hot-update.js",t.appendChild(r)}(e)):O[e]=!0}function o(){r("ready");var e=u;if(u=null,e)if(f)Promise.resolve().then(function(){return a(f)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var s in h)Object.prototype.hasOwnProperty.call(h,s)&&t.push(n(s));e.resolve(t)}}function a(t){function s(e){for(var t=[e],r={},n=t.slice().map(function(e){return{chain:[e],id:e}});n.length>0;){var s=n.pop(),o=s.id,a=s.chain;if((l=x[o])&&!l.hot._selfAccepted){if(l.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:o};if(l.hot._main)return{type:"unaccepted",chain:a,moduleId:o};for(var c=0;c<l.parents.length;c++){var d=l.parents[c],u=x[d];if(u){if(u.hot._declinedDependencies[o])return{type:"declined",chain:a.concat([d]),moduleId:o,parentId:d};t.indexOf(d)>=0||(u.hot._acceptedDependencies[o]?(r[d]||(r[d]=[]),i(r[d],[o])):(delete r[d],t.push(d),n.push({chain:a.concat([d]),id:d})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:r}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.indexOf(n)<0&&e.push(n)}}if("ready"!==b)throw new Error("apply() is only allowed in ready status");t=t||{};var o,a,d,l,u,f={},g=[],E={},P=function(){console.warn("[HMR] unexpected require("+I.moduleId+") to disposed module")};for(var w in h)if(Object.prototype.hasOwnProperty.call(h,w)){u=n(w);var I,O=!1,S=!1,D=!1,j="";switch((I=h[w]?s(u):{type:"disposed",moduleId:w}).chain&&(j="\nUpdate propagation: "+I.chain.join(" -> ")),I.type){case"self-declined":t.onDeclined&&t.onDeclined(I),t.ignoreDeclined||(O=new Error("Aborted because of self decline: "+I.moduleId+j));break;case"declined":t.onDeclined&&t.onDeclined(I),t.ignoreDeclined||(O=new Error("Aborted because of declined dependency: "+I.moduleId+" in "+I.parentId+j));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(I),t.ignoreUnaccepted||(O=new Error("Aborted because "+u+" is not accepted"+j));break;case"accepted":t.onAccepted&&t.onAccepted(I),S=!0;break;case"disposed":t.onDisposed&&t.onDisposed(I),D=!0;break;default:throw new Error("Unexception type "+I.type)}if(O)return r("abort"),Promise.reject(O);if(S){E[u]=h[u],i(g,I.outdatedModules);for(u in I.outdatedDependencies)Object.prototype.hasOwnProperty.call(I.outdatedDependencies,u)&&(f[u]||(f[u]=[]),i(f[u],I.outdatedDependencies[u]))}D&&(i(g,[I.moduleId]),E[u]=P)}var A=[];for(a=0;a<g.length;a++)u=g[a],x[u]&&x[u].hot._selfAccepted&&A.push({module:u,errorHandler:x[u].hot._selfAccepted});r("dispose"),Object.keys(_).forEach(function(e){!1===_[e]&&function(e){delete installedChunks[e]}(e)});for(var H,N=g.slice();N.length>0;)if(u=N.pop(),l=x[u]){var T={},M=l.hot._disposeHandlers;for(d=0;d<M.length;d++)(o=M[d])(T);for(v[u]=T,l.hot.active=!1,delete x[u],delete f[u],d=0;d<l.children.length;d++){var C=x[l.children[d]];C&&((H=C.parents.indexOf(u))>=0&&C.parents.splice(H,1))}}var k,q;for(u in f)if(Object.prototype.hasOwnProperty.call(f,u)&&(l=x[u]))for(q=f[u],d=0;d<q.length;d++)k=q[d],(H=l.children.indexOf(k))>=0&&l.children.splice(H,1);r("apply"),m=p;for(u in E)Object.prototype.hasOwnProperty.call(E,u)&&(e[u]=E[u]);var B=null;for(u in f)if(Object.prototype.hasOwnProperty.call(f,u)&&(l=x[u])){q=f[u];var U=[];for(a=0;a<q.length;a++)if(k=q[a],o=l.hot._acceptedDependencies[k]){if(U.indexOf(o)>=0)continue;U.push(o)}for(a=0;a<U.length;a++){o=U[a];try{o(q)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:u,dependencyId:q[a],error:e}),t.ignoreErrored||B||(B=e)}}}for(a=0;a<A.length;a++){var R=A[a];u=R.module,y=[u];try{c(u)}catch(e){if("function"==typeof R.errorHandler)try{R.errorHandler(e)}catch(r){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:u,error:r,orginalError:e,originalError:e}),t.ignoreErrored||B||(B=r),B||(B=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:u,error:e}),t.ignoreErrored||B||(B=e)}}return B?(r("fail"),Promise.reject(B)):(r("idle"),new Promise(function(e){e(g)}))}function c(r){if(x[r])return x[r].exports;var n=x[r]={i:r,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:l!==e,active:!0,accept:function(e,r){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._acceptedDependencies[e[n]]=r||function(){};else t._acceptedDependencies[e]=r||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._declinedDependencies[e[r]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var r=t._disposeHandlers.indexOf(e);r>=0&&t._disposeHandlers.splice(r,1)},check:s,apply:a,status:function(e){if(!e)return b;P.push(e)},addStatusHandler:function(e){P.push(e)},removeStatusHandler:function(e){var t=P.indexOf(e);t>=0&&P.splice(t,1)},data:v[e]};return l=void 0,t}(r),parents:(E=y,y=[],E),children:[]};return e[r].call(n.exports,n,n.exports,t(r)),n.l=!0,n.exports}var d=window.webpackHotUpdate;window.webpackHotUpdate=function(e,t){!function(e,t){if(_[e]&&S[e]){S[e]=!1;for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(h[r]=t[r]);0==--w&&0===I&&o()}}(e,t),d&&d(e,t)};var l,u,h,p,f=!0,m="1f3c224a6c22cf9c510b",g=1e4,v={},y=[],E=[],P=[],b="idle",w=0,I=0,O={},S={},_={},x={};c.m=e,c.c=x,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.h=function(){return m},t(0)(c.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});new(r(1).a)("TESTER0001").start()},function(e,t,r){"use strict";var n=r(2),s=r(5),i=r(9),o=r(11);t.a=class extends n.a{getElements(){return document.querySelectorAll("[aie]")}createElement(e){return new s.a(e)}getPrestanceSpeed(){return new i.a}getMaduration(){return new o.a}}},function(e,t,r){"use strict";var n=r(3),s=r(4);t.a=class{constructor(e){this.eventProcessor=new n.a(this),this.name=e,this.prestanceCalculator=new s.a(this.getPrestanceSpeed(),this.getMaduration())}estructureElements(e){const t=[];e.forEach((r,n)=>{const s=this.getParentNode(e,r.getBaseElementParent());s&&(s.setChildren(r),t.push(n))}),this.createEnvironment(e.reduce((e,r,n)=>t.includes(n)?e:e.concat(r),[]))}getParentNode(e,t){if(!t)return null;const r=e.find(e=>e.getBaseElement()===t);return r||this.getParentNode(e,t.parentNode)}getName(){return this.name}createEnvironment(e){this.environment=this.createElement(null),this.environment.setName(this.name),e.forEach(e=>this.environment.setChildren(e))}initializeElements(e){const t=[];e.forEach(e=>{const r=this.createElement(e);r.setPrestanceCalculator(this.prestanceCalculator),r.setProccesor(this.eventProcessor),t.push(r)}),this.estructureElements(t)}start(){console.info("[AIE] Running ..."),this.initializeElements(this.getElements())}}},function(e,t,r){"use strict";t.a=class{constructor(e){this.enviroment=e,this.queue=[],this.interaction=0,console.info("[AIE] Event processor initialized"),this.inspect()}notify(e){this.queue.push(e)}inspect(){const e=this.queue.shift();if(e&&(console.info('[AIE] Procesing "',e.name,'" over',e.element.getName()),e.element.hasParent())){const t=e.element.getParent();t.updateChildrenPrestance(),t.onTrigger()}setTimeout(this.inspect.bind(this),0)}}},function(e,t,r){"use strict";t.a=class{constructor(e,t){this.maduration=t,this.speed=e}calculateIncrement(e){const t=e.getInteractions(),r=e.getParentInteractions(),n=this.maduration.calculate(t/r);return this.speed.calculate(t)*n}}},function(e,t,r){"use strict";var n=r(6),s=r(7);class i extends n.a{initializeMemory(e){return new s.a(e)}setBaseElement(e){this.baseElement=e}getBaseElement(){return this.baseElement}getAttr(e){const t=`aie-${e}`,r=this.baseElement.attributes.getNamedItem(t);return r?r.value:void 0}bindTriggers(){this.getTriggerName()&&this.baseElement.addEventListener(this.getTriggerName(),this.onTrigger.bind(this))}generate(e){return new i(e)}getBaseElementParent(){return this.getBaseElement().parentNode}}t.a=i},function(e,t,r){"use strict";t.a=class{constructor(e){e&&(this.setBaseElement(e),this.name=this.getAttr("name"),this.trigger=this.getAttr("trigger"),this.bindTriggers()),this.children=[],this.processor=null,this.parent=null,this.prestance=0,this.updates=0,this.maxPrestance=1,this.memory=this.initializeMemory(this.generateId())}setMaxPrestance(e){this.maxPrestance=e}setName(e){this.name=e,this.memory.setId(this.generateId())}generateId(){return"aie::"+this.name}updatePrestance(){this.hasParent()&&(this.updates++,this.prestance+=this.prestanceCalculator.calculateIncrement(this))}getInteractions(){return this.memory.getScore()}getParentInteractions(){return this.parent?this.parent.getInteractions():0}getName(){return this.name}getTriggerName(){return this.trigger}getEventName(){return this.name}isAmbient(){return this.children.length>0}setParent(e){this.parent=e}setProccesor(e){this.processor=e}getParent(){return this.parent}setChildren(e){this.children.push(e),e.setParent(this)}onTrigger(){this.memory.anoteEvent(),this.processor&&this.processor.notify({name:this.getTriggerName(),element:this})}getChildren(){return this.children}getScore(){return this.memory.getScore()}getAmbientScore(){return this.isAmbient()?this.children.reduce((e,t)=>e+t.getScore(),0):0}updateChildrenPrestance(){this.children.forEach(e=>e.updatePrestance())}hasParent(){return!!this.parent}setPrestanceCalculator(e){this.prestanceCalculator=e}}},function(e,t,r){"use strict";var n=r(8);t.a=class extends n.a{loadScoreFromStore(e){const t=localStorage.getItem(e);return t?parseFloat(t):0}saveScoreToStore(e,t){localStorage.setItem(e,`${t}`)}removeScoreFromStore(e){localStorage.removeItem(e)}}},function(e,t,r){"use strict";t.a=class{constructor(e){this.id=e,this.score=this.loadScoreFromStore(e)}setId(e){this.id=e,this.removeScoreFromStore(e),this.saveScoreToStore(e,this.score)}anoteEvent(e=1){this.score+=e,this.saveScoreToStore(this.id,this.score)}getScore(){return this.score}}},function(e,t,r){"use strict";var n=r(10);t.a=class extends n.a{calculate(e){return 1/e}}},function(e,t,r){"use strict";t.a=class{}},function(e,t,r){"use strict";var n=r(12);t.a=class extends n.a{calculate(e){return e<.001?0:1}}},function(e,t,r){"use strict";t.a=class{}}]);
//# sourceMappingURL=aie.min.js.map