<!DOCTYPE html>
<html>
<style>
    * {
        font-family: "EB Garamont";
    }

    body {
        background: whitesmoke;
        font-size: 15px;
    }

    .selector {
        display: inline-block;
        cursor: pointer;
        position: relative;
        display: inline-block;
    }

    .selector input {
        padding-right: 2em;
        width: 200px;
        padding: 8px;
        padding-right: 2em;
    }

    .selector:after {
        content: "";
        position: absolute;
        display: block;
        width: 0; 
        height: 0; 
        border-left: 0.5em solid transparent;
        border-right: 0.5em solid transparent;
        border-top: 0.8em solid #2F4F4F;
        left: 220px;
        top: 2em;
    }

    .selector > .selector_option {
        display: inline;
        color: blueviolet;
        font-weight: 700;
        padding: 8px;
        z-index: 3;
    }

    .selector_options {
        display: none;
        position: absolute;
        z-index: 2;
        background: #2F4F4F;
        width: 100%;
    }

    .selector:hover .selector_options {
        display: block;
    }

    .selector_options > .selector_option {
        cursor: pointer;
        background: lightyellow;
        padding: 8px;
        width: 100%;
    }

    .selector_option:hover {
        background:blueviolet;
        color: white;
    }
</style>

<body>
    <div id='form-context' aie-name="filters">
            <fieldset 
                id="options_district"
                class="selector" 
                aie-properties="level"
                aie-name="districts_group">
                <legend>Select district</legend>
                <input readonly/>
                <div id="selector_options_district" class="selector_options" aie-name="districts" aie-properties="position">
                    <div class="selector_option" aie-pregnancy="0.125" aie-name="option_1_Moncloa" aie-trigger="click">Moncloa</div>
                    <div class="selector_option" aie-pregnancy="0.125" aie-name="option_1_Arguelles" aie-trigger="click">Argüelles</div>
                    <div class="selector_option" aie-pregnancy="0.125" aie-name="option_1_Huertas" aie-trigger="click">Zona de Huertas</div>
                    <div class="selector_option" aie-pregnancy="0.125" aie-name="option_1_Lavapies" aie-trigger="click">Lavapiés</div>
                </div>
            </fieldset>
            <fieldset
                id="options_year"
                class="selector"
                aie-name="years_group">
                <legend>Select year</legend>
                <input readonly/>
                <div id="selector_options_year" class="selector_options" aie-name="years" aie-properties="position">
                    <div class="selector_option" aie-pregnancy="0.125" aie-name="option_2_2018" aie-trigger="click">2018</div>
                    <div class="selector_option" aie-pregnancy="0.125" aie-name="option_2_2017" aie-trigger="click">2017</div>
                    <div class="selector_option" aie-pregnancy="0.125" aie-name="option_2_2016" aie-trigger="click">2016</div>
                    <div class="selector_option" aie-pregnancy="0.125" aie-name="option_2_2015" aie-trigger="click">2015</div>
                </div>
            </fieldset>
    </div>
    <script src="http://localhost:8080/dist/aie.min.js"></script>
    <script>
        initAIE('APPSAMPLE_FILTERS_6', '#form-context')
        exposeAIE ()
        document.querySelectorAll('.selector_option')
            .forEach(el => el.addEventListener('click', e => {
                var input = e.target.parentNode.querySelector('input')
                if (!input) {
                    input = e.target.parentNode.parentNode.querySelector('input')
                }
                input.value = e.target.textContent
            }))
    </script>
</body>

</html>